<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Caccia al Tesoro Magica</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
</head>
<body>

<canvas id="matrixRain"></canvas>

<audio id="bg-music" src="bg.mp3" loop></audio>

<!-- INTRO -->
<div id="intro" class="container">
  <h1>Benvenuto alla Caccia al Tesoro</h1>
  <button onclick="startGame()">Inizia</button>
</div>

<!-- ENIGMA 1 -->
<div id="enigma1" class="container hidden">
  <h1>Inserisci la combinazione corretta</h1>
  <div class="input-wrapper">
    <input type="password" id="passwordInput1" placeholder="Combinazione" />
    <button class="eye-button" onclick="togglePassword('passwordInput1')">&#128065;</button>
  </div>
  <button onclick="checkPassword1()">Invia</button>
</div>

<!-- ENIGMA 2 -->
<div id="enigma2" class="container hidden">
  <h1>Enigma 1</h1>
  <p>
    “Sono un numero a due cifre. La mia prima cifra è il numero di Horcrux creati da Voldemort.<br>
    La mia seconda cifra è il numero di lettere nella parola ‘Lumos’.<br>
    Chi sono?”
  </p>
  <div class="input-wrapper">
    <input type="password" id="passwordInput2" placeholder="Risposta" />
    <button class="eye-button" onclick="togglePassword('passwordInput2')">&#128065;</button>
  </div>
  <button onclick="checkPassword2()">Invia</button>
</div>

<!-- ENIGMA 3 -->
<div id="enigma3" class="container hidden">
  <h1>Enigma 2</h1>
  <p>
    “Mi trovi solo quando davvero ne hai bisogno.<br>
    Appaio, ma non sempre nello stesso luogo.<br>
    Harry mi ha usata per combattere, per nascondersi e per riunirsi.<br>
    Qual è il mio nome?”
  </p>
  <div class="input-wrapper">
    <input type="password" id="passwordInput3" placeholder="Risposta" />
    <button class="eye-button" onclick="togglePassword('passwordInput3')">&#128065;</button>
  </div>
  <button onclick="checkPassword3()">Invia</button>
</div>

<!-- CUSTOM ALERT -->
<div id="custom-alert" class="custom-alert hidden">
  <div class="custom-alert-box">
    <p>Risposta errata! Riprova!</p>
    <button onclick="closeCustomAlert()">Chiudi</button>
  </div>
</div>

<!-- RIVELAZIONE FINALE -->
<div id="revealed" class="revealed hidden">
  <h1>Hai trovato il luogo!</h1>
  <p>Recati alla Chiesa di San Nicolò a Guspini.</p>
  <button onclick="goBack()">Torna all'inizio</button>
</div>

<script src="script.js"></script>
</body>
</html>
